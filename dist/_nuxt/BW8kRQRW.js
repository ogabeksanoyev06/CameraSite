import{_ as E,a as O,b as z,c as G}from"./DWMVBSUM.js";import{_ as J}from"./CMV9IKM6.js";import{e as K,d as B,f as Q,n as W}from"./Bk-OGa0e.js";import{u as x}from"./2tLvX-j_.js";import{V as c,B as l,N as t,u,P as v,c as h,aj as S,w as X,D as g,L as m,F as f,U as y,H as P,O as Y,M as A}from"./BGf5y4XT.js";import{u as L}from"./DPEcGcQd.js";import"./B6Z3zIuv.js";import"./DlAUqK2U.js";const Z={class:"flex flex-col gap-2 bg-white rounded-2xl overflow-hidden group"},tt={class:"overflow-hidden flex items-center justify-center w-full"},et=["src"],ot={class:"p-2"},st={class:"flex flex-col items-start gap-4 bg-background p-6 rounded-2xl"},nt={class:"text-base line-clamp-2"},rt=["innerHTML"],ct={__name:"Card",props:{id:Number,title:String,subtitle:String,photo:String},setup(s){return(e,n)=>(c(),l("div",Z,[t("div",tt,[t("img",{src:`${("useRuntimeConfig"in e?e.useRuntimeConfig:u(K))().public.apiBaseUrl}/site/images/products/${s.photo}`,class:"group-hover:scale-105 transition-300"},null,8,et)]),t("div",ot,[t("div",st,[t("h3",nt,v(s.title),1),t("div",{class:"text-sm line-clamp-2",innerHTML:s.subtitle},null,8,rt)])])]))}},at=B("products",()=>{const s=L();async function e(){try{return(await s.get("/api/products")).data}catch(o){console.log(o)}}async function n(o){try{return(await s.get(`/api/products/${o}`)).data}catch(a){console.log(a)}}async function d(o){try{return(await s.get(`/api/product/category?product_category_id=${o}`)).data}catch(a){console.log(a)}}return{getProducts:e,getProductId:n,getProductsCategory:d}}),it=B("categories",()=>{const s=L();return{getProductsCategories:async()=>{try{return(await s.get("/api/product-categories/")).data}catch(n){console.log(n)}}}}),lt={class:"bg-[#F5F5F7]"},dt={class:"container py-12"},ut={class:"grid lg:grid-cols-[340px_minmax(0,1fr)] gap-6"},_t={class:""},pt={class:"sticky top-10 border-r border-grey-200 pr-6"},gt={class:""},mt=["onClick"],ht={class:"flex-1"},ft={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yt=t("path",{d:"M11.6667 13.3333L15 9.99998M15 9.99998L11.6667 6.66665M15 9.99998L5 9.99998",stroke:"#1878F3","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),vt=[yt],wt={class:""},Ct={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Ft={__name:"index",async setup(s){var C,$,b;let e,n;const d=Q(),o=h(null);h(null);const a=h([]),N=it(),F=at(),{getProductsCategories:M}=N,{getProductsCategory:T}=F,q=r=>{a.value=w.value.filter(k=>k.product_category_id==r)},V=r=>{W({query:{id:r}})},{data:w}=([e,n]=S(async()=>x("categories",async()=>await M())),e=await e,n(),e);o.value=Number(((C=d.query)==null?void 0:C.subCategoryId)||((b=($=a.value)==null?void 0:$[0])==null?void 0:b.id));const{data:j}=([e,n]=S(async()=>x("products",async()=>{if(o.value||d.query.id)return await T(o.value)},{watch:[()=>d.query.id]})),e=await e,n(),e);return X(()=>d.query.id,r=>{o.value=r},{immediate:!0}),(r,k)=>{const I=E,R=O,D=z,H=G,U=J;return c(),l("div",lt,[t("section",dt,[t("div",ut,[t("div",_t,[t("div",pt,[g(H,{type:"single",class:"w-full",collapsible:""},{default:m(()=>[(c(!0),l(f,null,y(u(w),(i,_)=>(c(),P(D,{class:"border-none",key:_,value:_+"a"},{default:m(()=>[i.product_category_id===null?(c(),P(I,{key:0,class:"py-2",onClick:p=>q(i.id)},{default:m(()=>[Y(v(i.title[r.$i18n.locale]),1)]),_:2},1032,["onClick"])):A("",!0),g(R,null,{default:m(()=>[t("ul",gt,[(c(!0),l(f,null,y(u(a),(p,$t)=>(c(),l("li",{class:"flex items-center justify-between cursor-pointer py-2",onClick:bt=>V(p.id)},[t("span",ht,v(p.title[r.$i18n.locale]),1),p.id==u(o)?(c(),l("svg",ft,vt)):A("",!0)],8,mt))),256))])]),_:1})]),_:2},1032,["value"]))),128))]),_:1})])]),t("div",wt,[t("div",Ct,[(c(!0),l(f,null,y(u(j),(i,_)=>(c(),l("div",{"data-aos":"fade-up",key:_},[g(ct,{id:i.id,photo:i.photo[0],title:i.title[r.$i18n.locale],subtitle:i.descriptions[r.$i18n.locale]},null,8,["id","photo","title","subtitle"])]))),128))])])])]),g(U)])}}};export{Ft as default};
