import{_ as E,a as G,b as J,c as O}from"./toOAtjt-.js";import{_ as Q}from"./ZhitAd3G.js";import{u as W,b as B,c as X,n as z}from"./BNB8KbVC.js";import{u as x}from"./DeA4m1Ow.js";import{X as c,B as l,P as t,u,R as v,c as h,ap as S,w as K,G as g,N as m,F as f,W as y,J as P,Q as Y,O as A}from"./DNLAhual.js";import{u as N}from"./CQRq9LnR.js";import"./C224yltl.js";import"./DlAUqK2U.js";const Z={class:"flex flex-col gap-2 bg-white rounded-2xl overflow-hidden group"},tt={class:"overflow-hidden flex items-center justify-center w-full"},et=["src"],ot={class:"p-2"},st={class:"flex flex-col items-start gap-4 bg-background p-6 rounded-2xl"},nt={class:"text-base line-clamp-2"},rt=["innerHTML"],ct={__name:"Card",props:{id:Number,title:String,subtitle:String,photo:String},setup(s){return(e,n)=>(c(),l("div",Z,[t("div",tt,[t("img",{src:`${("useRuntimeConfig"in e?e.useRuntimeConfig:u(W))().public.apiBaseUrl}/site/images/products/${s.photo}`,class:"group-hover:scale-105 transition-300"},null,8,et)]),t("div",ot,[t("div",st,[t("h3",nt,v(s.title),1),t("div",{class:"text-sm line-clamp-2",innerHTML:s.subtitle},null,8,rt)])])]))}},at=B("products",()=>{const s=N();async function e(){try{return(await s.get("/api/products")).data}catch(o){console.log(o)}}async function n(o){try{return(await s.get(`api/products/${o}`)).data}catch(a){console.log(a)}}async function d(o){try{return(await s.get(`/api/product/category?product_category_id=${o}`)).data}catch(a){console.log(a)}}return{getProducts:e,getProductId:n,getProductsCategory:d}}),it=B("categories",()=>{const s=N();return{getProductsCategories:async()=>{try{return(await s.get("/api/product-categories/")).data}catch(n){console.log(n)}}}}),lt={class:"bg-[#F5F5F7]"},dt={class:"container py-12"},ut={class:"grid lg:grid-cols-[340px_minmax(0,1fr)] gap-6"},_t={class:""},pt={class:"sticky top-10 border-r border-grey-200 pr-6"},gt={class:""},mt=["onClick"],ht={class:"flex-1"},ft={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yt=t("path",{d:"M11.6667 13.3333L15 9.99998M15 9.99998L11.6667 6.66665M15 9.99998L5 9.99998",stroke:"#1878F3","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),vt=[yt],wt={class:""},bt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},Lt={__name:"index",async setup(s){var b,C,$;let e,n;const d=X(),o=h(null);h(null);const a=h([]),F=it(),L=at(),{getProductsCategories:T}=F,{getProductsCategory:q}=L,M=r=>{a.value=w.value.filter(k=>k.product_category_id==r)},R=r=>{z({query:{id:r}})},{data:w}=([e,n]=S(async()=>x("categories",async()=>await T())),e=await e,n(),e);o.value=Number(((b=d.query)==null?void 0:b.subCategoryId)||(($=(C=a.value)==null?void 0:C[0])==null?void 0:$.id));const{data:I}=([e,n]=S(async()=>x("products",async()=>{if(o.value||d.query.id)return await q(o.value)},{watch:[()=>d.query.id]})),e=await e,n(),e);return K(()=>d.query.id,r=>{o.value=r},{immediate:!0}),(r,k)=>{const V=E,j=G,D=J,H=O,U=Q;return c(),l("div",lt,[t("section",dt,[t("div",ut,[t("div",_t,[t("div",pt,[g(H,{type:"single",class:"w-full",collapsible:""},{default:m(()=>[(c(!0),l(f,null,y(u(w),(i,_)=>(c(),P(D,{class:"border-none",key:_,value:_+"a"},{default:m(()=>[i.product_category_id===null?(c(),P(V,{key:0,class:"py-2",onClick:p=>M(i.id)},{default:m(()=>[Y(v(i.title[r.$i18n.locale]),1)]),_:2},1032,["onClick"])):A("",!0),g(j,null,{default:m(()=>[t("ul",gt,[(c(!0),l(f,null,y(u(a),(p,Ct)=>(c(),l("li",{class:"flex items-center justify-between cursor-pointer py-2",onClick:$t=>R(p.id)},[t("span",ht,v(p.title[r.$i18n.locale]),1),p.id==u(o)?(c(),l("svg",ft,vt)):A("",!0)],8,mt))),256))])]),_:1})]),_:2},1032,["value"]))),128))]),_:1})])]),t("div",wt,[t("div",bt,[(c(!0),l(f,null,y(u(I),(i,_)=>(c(),l("div",{"data-aos":"fade-up",key:_},[g(ct,{id:i.id,photo:i.photo[0],title:i.title[r.$i18n.locale],subtitle:i.descriptions[r.$i18n.locale]},null,8,["id","photo","title","subtitle"])]))),128))])])])]),g(U)])}}};export{Lt as default};
